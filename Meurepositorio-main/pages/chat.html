<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MentalHelp - Chat</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/styles/Chat.css">
</head>
<body>
    
    <main class="chat-principal">
        <div class="chat-container">
            
            <div class="chat-cabecalho">
                <!-- Voltar -->
                <a href="interface.html" class="link-voltar" title="Voltar para Menu">
                    <svg class="icone-voltar" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z" fill="white"/>
                    </svg>
                </a>
                
                <!-- Ícone de Perfil -->
                <img class="icone-perfil" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhGtQ4wZdGupntZ-tOchWUDO3Gs_wNITq_7_1dU_9o2_vwEKRpiY-vL1EbGAJz1TSLK9E&usqp=CAU" alt="Ícone de Perfil">
                
                <!-- nome do aluno -->
                <span class="chat-titulo">Nome du Aluno</span>
                
                <!--Centralizado Logo + MentalHelp -->
                <div class="grupo-central-topo">
                    <!--Logo -->
                    <img src="https://scontent-gru2-2.xx.fbcdn.net/v/t1.15752-9/555765722_1124010756531802_8337655124737714952_n.png?_nc_cat=102&ccb=1-7&_nc_sid=0024fc&_nc_ohc=XuS4EgtJtnIQ7kNvwHHXRWz&_nc_oc=AdkzIOlpwIX12Y38NtSnpVx6VxjF4i5LRVK7TKrbAvB4yuz2T-Tsx55k4ZIBYxVviQw&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=scontent-gru2-2.xx&oh=03_Q7cD3gFUJ8mqv7MYyKGs0RoTFIVD_GykljPnxVCu5dCHklNLZA&oe=6906339C" alt="Logo MentalHelp" class="logo-mentalhelp">
                    <h1>MentalHelp</h1>
                </div>
            </div>

            <div class="area-mensagens" id="area-mensagens">
                <!-- Mensagens Iniciais -->
                <div class="bolha-mensagem recebida">Olá, tudo bem com você?</div>
                <div class="bolha-mensagem enviada">Estou bem, gostaria de falar com...</div>
                <div class="bolha-mensagem enviada">Bom dia!</div>
                <div class="bolha-mensagem recebida">Claro! Estou aqui para te dar apoio. Sinta-se à vontade para compartilhar o que está sentindo.</div>
                <div class="bolha-mensagem enviada">Obrigado! É muito importante ter esse espaço.</div>
            </div>

            <div class="area-input">
                <input type="text" id="input-mensagem" placeholder="Digite..." autocomplete="off">
                <button id="botao-enviar">
                    <svg viewBox="0 0 24 24" fill="white" width="24px" height="24px"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                </button>
            </div>

        </div>
    </main>
    
    <script>
        // Referências aos elementos do DOM, agora usando IDs e classes em Português
        const inputMensagem = document.getElementById('input-mensagem');
        const botaoEnviar = document.getElementById('botao-enviar');
        const areaMensagens = document.getElementById('area-mensagens');

        /**
         * Adiciona uma nova bolha de mensagem à área de chat.
         * @param {string} texto - O conteúdo da mensagem.
         * @param {string} tipo - O tipo de mensagem ('enviada' ou 'recebida').
         */
        function adicionarMensagem(texto, tipo) {
            // 1. Cria o elemento div da mensagem
            const divMensagem = document.createElement('div');
            // 2. Adiciona as classes CSS necessárias (bolha-mensagem + enviada/recebida)
            divMensagem.className = 'bolha-mensagem ' + tipo;
            // 3. Define o texto (conteúdo)
            divMensagem.textContent = texto;

            // 4. Adiciona a nova mensagem na área de exibição
            areaMensagens.appendChild(divMensagem);

            // 5. Rola a área de mensagens para baixo para mostrar a mensagem mais recente
            areaMensagens.scrollTop = areaMensagens.scrollHeight;
        }

        /**
         * Lida com o evento de envio da mensagem.
         */
        function enviarMensagem() {
            const texto = inputMensagem.value.trim();

            if (texto !== '') {
                // Adiciona a mensagem do usuário (tipo 'enviada')
                adicionarMensagem(texto, 'enviada');
                
                // Limpa o campo de input
                inputMensagem.value = '';

                // (Simula uma resposta após um breve atraso)
                setTimeout(() => {
                    const textoResposta = "Entendido. Como podemos explorar isso juntos?";
                    adicionarMensagem(textoResposta, 'recebida');
                }, 1000);
            }
        }

        // --- Adiciona Listeners de Evento ---

        // 1. Enviar mensagem ao clicar no botão
        botaoEnviar.addEventListener('click', enviarMensagem);

        // 2. Enviar mensagem ao pressionar a tecla Enter no campo de input
        inputMensagem.addEventListener('keypress', (evento) => {
            // Verifica se a tecla pressionada é a Enter
            if (evento.key === 'Enter') {
                enviarMensagem();
                // Previne a quebra de linha padrão do input
                evento.preventDefault(); 
            }
        });
    </script>
</body>
</html>